(this["webpackJsonphacker-stories"]=this["webpackJsonphacker-stories"]||[]).push([[0],{18:function(e,t,a){e.exports=a(44)},41:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),c=a.n(o),s=a(4),l=a.n(s),i=a(15),u=a(2),m=a(3),d=a(16),p=a.n(d),f=(a(41),a(17)),b=a.n(f),E="https://hn.algolia.com/api/v1/search?query=",h=function(e,t){switch(t.type){case"STORIES_FETCH_INIT":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0,isError:!1});case"STORIES_FETCH_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,isError:!1,data:t.payload});case"STORIES_FETCH_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,isError:!0});case"REMOVE_STORY":return Object(u.a)(Object(u.a)({},e),{},{data:e.data.filter((function(e){return t.payload.objectID!==e.objectID}))});default:throw new Error}},g=function(e){var t=e.searchTerm,a=e.onSearchInput,n=e.onSearchSubmit;return r.a.createElement("form",{onSubmit:n,className:"w-full my-10"},r.a.createElement("div",{className:"md:flex md:items-center flex-wrap justify-between"},r.a.createElement(v,{id:"search",value:t,isFocused:!0,onInputChange:a},r.a.createElement("strong",null,"Search:")),r.a.createElement("button",{className:"md:w-1/6 bg-red-500 hover:bg-red-300 focus:shadow-outline focus:outline-none text-white font-bold py-3 px-4 rounded",type:"submit",disabled:!t},"Submit")))},v=function(e){var t=e.id,a=e.value,n=e.type,o=void 0===n?"text":n,c=e.onInputChange,s=e.isFocused,l=e.children,i=r.a.useRef();return r.a.useEffect((function(){s&&i.current.focus()}),[s]),r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 w-full",htmlFor:t},l),r.a.createElement("input",{ref:i,id:t,type:o,value:a,onChange:c,className:"w-4/5 appearance-none block bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"}))},x=function(e){var t=e.list,a=e.onRemoveItem;return t.map((function(e){return r.a.createElement(y,{key:e.objectID,item:e,onRemoveItem:a})}))},y=function(e){var t=e.item,a=e.onRemoveItem;return r.a.createElement("div",{className:"rounded overflow-hidden shadow-lg px-6 py-4 flex flex-col"},r.a.createElement("div",{className:"text-sm text-gray-600 mb-2"},b()(new Date(t.created_at)).format("LL")),r.a.createElement("div",{className:"text-2xl font-semibold text-gray-800 mb-4"},r.a.createElement("a",{href:t.url},t.title)),r.a.createElement("div",{className:"mb-2 text-sm text-gray-600"},"By ",t.author),r.a.createElement("div",{className:"mb-2 text-sm text-gray-600"},t.num_comments," comments"),r.a.createElement("div",{className:"mb-10 text-sm text-gray-600"},t.points," points"),r.a.createElement("div",{className:"text-center mt-auto grid grid-flow-col gap-4"},r.a.createElement("a",{className:"bg-purple-800 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded",href:t.url},"Read"),r.a.createElement("button",{className:"bg-transparent hover:bg-purple-400 text-purple-800 font-semibold hover:text-white py-2 px-4 border border-purple-800 hover:border-transparent rounded",type:"button",onClick:function(){return a(t)}},"Dismiss")))},S=function(){var e=function(e,t){var a=r.a.useState(localStorage.getItem(e)||t),n=Object(m.a)(a,2),o=n[0],c=n[1];return r.a.useEffect((function(){localStorage.setItem(e,o)}),[o,e]),[o,c]}("search","React"),t=Object(m.a)(e,2),a=t[0],n=t[1],o=r.a.useState("".concat(E).concat(a)),c=Object(m.a)(o,2),s=c[0],u=c[1],d=r.a.useReducer(h,{data:[],isLoading:!1,isError:!1}),f=Object(m.a)(d,2),b=f[0],v=f[1],y=r.a.useCallback(Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v({type:"STORIES_FETCH_INIT"}),e.prev=1,e.next=4,p.a.get(s);case 4:t=e.sent,v({type:"STORIES_FETCH_SUCCESS",payload:t.data.hits}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),v({type:"STORIES_FETCH_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[s]);r.a.useEffect((function(){y()}),[y]);return r.a.createElement("div",{className:"container mx-auto pt-10"},r.a.createElement("h1",{className:"text-center text-6xl"},"Hacker News"),r.a.createElement(g,{searchTerm:a,onSearchInput:function(e){n(e.target.value)},onSearchSubmit:function(e){u("".concat(E).concat(a)),e.preventDefault()}}),r.a.createElement("div",{className:"grid grid-cols-3 gap-4"},b.isError&&r.a.createElement("p",null,"Something went wrong ..."),b.isLoading?r.a.createElement("p",null,"Loading ..."):r.a.createElement(x,{list:b.data,onRemoveItem:function(e){v({type:"REMOVE_STORY",payload:e})}})))};a(43),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.d51f2f31.chunk.js.map